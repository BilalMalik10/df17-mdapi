<aura:component controller="PageLayoutsController" implements="flexipage:availableForAllPageTypes" >

	<!-- Attributes -->
	<aura:attribute name="anchorTypes" type="List" />
	<aura:attribute name="behaviors" type="List" />
	<aura:attribute name="fields" type="List" />
	<aura:attribute name="operations" type="List" />
	<aura:attribute name="objectTypes" type="List" />
	<aura:attribute name="strategies" type="List" />
	<aura:attribute name="hasReadObjectTypes" type="Boolean" default="false" />
	
	<aura:attribute name="strategy" type="string" />
	<aura:attribute name="objectType" type="string" />
	<aura:attribute name="layoutName" type="string" />
	<aura:attribute name="operation" type="string" />
	<aura:attribute name="behavior" type="string" />
	<aura:attribute name="field" type="string" />
	<aura:attribute name="anchorType" type="string" />
	<aura:attribute name="anchorField" type="string" />

	<!-- Handlers -->
	<aura:handler name="init" value="{!this}" action="{!c.onInit}" />
	<aura:handler event="aura:locationChange" action="{!c.onLocationChange}"/>
	<aura:handler name="change" value="{!v.anchorType}" action="{!c.onAnchorTypeChanged}" />
	<aura:handler name="change" value="{!v.objectType}" action="{!c.onObjectTypeChanged}" />
	<aura:handler name="change" value="{!v.operation}" action="{!c.onOperationChanged}" />
	<aura:handler name="monitoredEvent" event="c:monitoredEvent" action="{!c.onMonitoredEvent}"/>

	<!-- Event monitor (displays results of async operations) -->
	<c:EventMonitor eventSubscriptions="['PageLayoutUpdate__e']"/>

	<lightning:card >

		<!-- Actions -->
		<aura:set attribute="actions" >
			<lightning:button variant="brand" label="{!$Label.c.ButtonTextUpdate}" onclick="{!c.onUpdateClicked}" />
		</aura:set >

		<!-- Form fields -->
		<lightning:combobox name="Strategy" label="Strategy" value="{!v.strategy}" options="{!v.strategies}"/>
		<lightning:combobox name="ObjectType" label="ObjectType" value="{!v.objectType}" options="{!v.objectTypes}" />
		<ui:inputText label="{!$Label.c.FieldLayoutName}" value="{!v.layoutName}" />
		<lightning:combobox name="Field" label="Field" value="{!v.field}" options="{!v.fields}" />
		<lightning:combobox name="Operation" label="Operation" value="{!v.operation}" options="{!v.operations}"/>
		<lightning:combobox name="Behavior" label="Behavior" value="{!v.behavior}" options="{!v.behaviors}" aura:id="behavior" />
		<lightning:combobox name="Anchor Type" label="Anchor Type" value="{!v.anchorType}" options="{!v.anchorTypes}" aura:id="anchorType" />
		<lightning:combobox name="Anchor Field" label="Anchor Field" value="{!v.anchorField}" options="{!v.fields}" aura:id="anchorField" />

	</lightning:card >

</aura:component >
